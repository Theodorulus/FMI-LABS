
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

@foreach(var user in ViewBag.Users)
{
    <h1>@user.UserName</h1>
    <p>@user.Email</p>
    <br />
    <form method="post" action="/Users/AddFriend">
        <input type="hidden" name="UserId" value="@user.Id"/>
        <button type="submit">Add Friend</button>
    </form>
    <hr />
    <ul>
        @foreach (var friend in user.SentRequests)
        {
            <li>@friend.User2.UserName</li>
        }

        @foreach (var friend in user.ReceivedRequests)
        {
            <li>@friend.User1.UserName</li>
        }
    </ul>
    <hr />
}

